/*! Lity - v2.4.1 - 2020-04-26
* http://sorgalla.com/lity/
* Copyright (c) 2015-2020 Jan Sorgalla; Licensed MIT */ !function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(n){return t(e,n)}):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(e,require("jquery")):e.lity=t(e,e.jQuery||e.Zepto)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(e){var t=m();return z&&e.length?(e.one(z,t.resolve),setTimeout(t.resolve,500)):t.resolve(),t.promise()}function i(e,n,i){if(1===arguments.length)return t.extend({},e);if("string"==typeof n){if(void 0===i)return void 0===e[n]?null:e[n];e[n]=i}else t.extend(e,n);return this}function o(e){for(var t,n=decodeURI(e.split("#")[0]).split("&"),i={},o=0,r=n.length;o<r;o++)n[o]&&(i[(t=n[o].split("="))[0]]=t[1]);return i}function r(e,n){return e+(e.indexOf("?")>-1?"&":"?")+t.param(n)}function a(e,t){var n=e.indexOf("#");return -1===n?t:(n>0&&(e=e.substr(n)),t+e)}function l(e,n){var i=t('<img src="'+e+'" alt="'+(n.opener()&&n.opener().data("lity-desc")||"Image with no description")+'"/>'),o=m(),r=function(){o.reject(t('<span class="lity-error"></span>').append("Failed loading image"))};return i.on("load",function(){if(0===this.naturalWidth)return r();o.resolve(i)}).on("error",r),o.promise()}function s(e){return'<div class="lity-iframe-container"><iframe frameborder="0" allowfullscreen allow="autoplay; fullscreen" src="'+e+'"/></div>'}function d(){return v.documentElement.clientHeight?v.documentElement.clientHeight:Math.round(h.height())}function c(e){var t,n,i,o,r=f();r&&(27===e.keyCode&&r.options("esc")&&r.close(),9===e.keyCode&&(t=e,n=r,i=n.element().find($),o=i.index(v.activeElement),t.shiftKey&&o<=0?(i.get(i.length-1).focus(),t.preventDefault()):t.shiftKey||o!==i.length-1||(i.get(0).focus(),t.preventDefault())))}function u(){t.each(b,function(e,t){t.resize()})}function f(){return 0===b.length?null:b[0]}function y(e,o,r,a){var l,s,f,y,p,$,C,k,E,j,D,z=this,T=!1,O=!1;o=t.extend({},_,o),s=t(o.template),z.element=function(){return s},z.opener=function(){return r},z.options=t.proxy(i,z,o),z.handlers=t.proxy(i,z,o.handlers),z.resize=function(){T&&!O&&f.css("max-height",d()+"px").trigger("lity:resize",[z])},z.close=function(){if(T&&!O){O=!0,(e=z).element().attr(x,"true"),1===b.length&&(g.removeClass("lity-active"),h.off({resize:u,keydown:c})),(i=(b=t.grep(b,function(t){return e!==t})).length?b[0].element():t(".lity-hidden")).removeClass("lity-hidden").each(function(){var e=t(this),n=e.data(w);n?e.attr(x,n):e.removeAttr(x),e.removeData(w)});var e,i,o=m();if(a&&(v.activeElement===s[0]||t.contains(s[0],v.activeElement)))try{a.focus()}catch(r){}return f.trigger("lity:close",[z]),s.removeClass("lity-opened").addClass("lity-closed"),n(f.add(s)).always(function(){f.trigger("lity:remove",[z]),s.remove(),s=void 0,o.resolve()}),o.promise()}},l=(y=e,p=z,$=o.handlers,C=o.handler,E="inline",j=t.extend({},$),C&&j[C]?(k=j[C](y,p),E=C):(t.each(["inline","iframe"],function(e,t){delete j[t],j[t]=$[t]}),t.each(j,function(e,t){return!t||!(!t.test||t.test(y,p))||(!1!==(k=t(y,p))?(E=e,!1):void 0)})),{handler:E,content:k||""}),s.attr(x,"false").addClass("lity-loading lity-opened lity-"+l.handler).appendTo("body").focus().on("click","[data-lity-close]",function(e){t(e.target).is("[data-lity-close]")&&z.close()}).trigger("lity:open",[z]),D=z,1===b.unshift(D)&&(g.addClass("lity-active"),h.on({resize:u,keydown:c})),t("body > *").not(D.element()).addClass("lity-hidden").each(function(){var e=t(this);void 0===e.data(w)&&e.data(w,e.attr(x)||null)}).attr(x,"true"),t.when(l.content).always(function e(i){f=t(i).css("max-height",d()+"px"),s.find(".lity-loader").each(function(){var e=t(this);n(e).always(function(){e.remove()})}),s.removeClass("lity-loading").find(".lity-content").empty().append(f),T=!0,f.trigger("lity:ready",[z])})}function p(e,n,i){e.preventDefault?(e.preventDefault(),e=(i=t(this)).data("lity-target")||i.attr("href")||i.attr("src")):i=t(i);var o=new y(e,t.extend({},i.data("lity-options")||i.data("lity"),n),i,v.activeElement);if(!e.preventDefault)return o}var v=e.document,h=t(e),m=t.Deferred,g=t("html"),b=[],x="aria-hidden",w="lity-"+x,$='a[href],area[href],input:not([disabled]),select:not([disabled]),textarea:not([disabled]),button:not([disabled]),iframe,object,embed,[contenteditable],[tabindex]:not([tabindex^="-"])',_={esc:!0,handler:null,handlers:{image:l,inline:function e(n,i){var o,r,a;try{o=t(n)}catch(l){return!1}return!!o.length&&(r=t('<i style="display:none !important"></i>'),a=o.hasClass("lity-hide"),i.element().one("lity:remove",function(){r.before(o).remove(),a&&!o.closest(".lity-content").length&&o.addClass("lity-hide")}),o.removeClass("lity-hide").after(r))},youtube:function e(n){var i=k.exec(n);return!!i&&s(a(n,r("https://www.youtube"+(i[2]||"")+".com/embed/"+i[4],t.extend({autoplay:1},o(i[5]||"")))))},vimeo:function e(n){var i=E.exec(n);return!!i&&s(a(n,r("https://player.vimeo.com/video/"+i[3],t.extend({autoplay:1},o(i[4]||"")))))},googlemaps:function e(t){var n=j.exec(t);return!!n&&s(a(t,r("https://www.google."+n[3]+"/maps?"+n[6],{output:n[6].indexOf("layer=c")>0?"svembed":"embed"})))},facebookvideo:function e(n){var i=D.exec(n);return!!i&&(0!==n.indexOf("http")&&(n="https:"+n),s(a(n,r("https://www.facebook.com/plugins/video.php?href="+n,t.extend({autoplay:1},o(i[4]||""))))))},iframe:s},template:'<div class="lity" role="dialog" aria-label="Dialog Window (Press escape to close)" tabindex="-1"><div class="lity-wrap" data-lity-close role="document"><div class="lity-loader" aria-hidden="true">Loading...</div><div class="lity-container"><div class="lity-content"></div><button class="lity-close" type="button" aria-label="Close (Press escape to close)" data-lity-close>&times;</button></div></div></div>'},C=/(^data:image\/)|(\.(png|jpe?g|gif|svg|webp|bmp|ico|tiff?)(\?\S*)?$)/i,k=/(youtube(-nocookie)?\.com|youtu\.be)\/(watch\?v=|v\/|u\/|embed\/?)?([\w-]{11})(.*)?/i,E=/(vimeo(pro)?.com)\/(?:[^\d]+)?(\d+)\??(.*)?$/,j=/((maps|www)\.)?google\.([^\/\?]+)\/?((maps\/?)?\?)(.*)/i,D=/(facebook\.com)\/([a-z0-9_-]*)\/videos\/([0-9]*)(.*)?$/i,z=function(){var e=v.createElement("div"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return t[n];return!1}();return l.test=function(e){return C.test(e)},p.version="2.4.1",p.options=t.proxy(i,p,_),p.handlers=t.proxy(i,p,_.handlers),p.current=f,t(v).on("click.lity","[data-lity]",p),p});